# C++编码规范

## 1. 命名约定

### 1.1 文件命名
- 头文件使用 `.hpp` 扩展名
- 源文件使用 `.cpp` 扩展名
- 文件名使用PascalCase：`PhysicsWorld.hpp`

### 1.2 类命名
- 使用PascalCase：`class PhysicsWorld`
- 接口类以'I'开头：`class IRenderer`

### 1.3 函数命名
- 使用camelCase：`calculateForce()`
- 动词开头：`getName()`, `setPosition()`

### 1.4 变量命名
- 成员变量使用m_前缀：`m_position`
- 静态变量使用s_前缀：`s_instance`
- 常量使用k前缀：`kMaxObjects`
- 局部变量使用camelCase：`localVariable`

### 1.5 枚举命名
```cpp
enum class ObjectType {
    Static,
    Dynamic,
    Kinematic
};
```

## 2. 代码格式

### 2.1 缩进和空格
- 使用4个空格缩进
- 不使用制表符
- 运算符前后加空格
- 逗号后加空格

### 2.2 大括号
```cpp
if (condition) {
    // 代码
} else {
    // 代码
}
```

### 2.3 行长度
- 最大行长度：80个字符
- 长行应适当换行

## 3. 注释规范

### 3.1 文件头注释
```cpp
/**
 * @file PhysicsWorld.hpp
 * @brief 物理世界管理类
 * @author [作者名]
 * @date [日期]
 */
```

### 3.2 类注释
```cpp
/**
 * @class PhysicsWorld
 * @brief 管理物理世界的模拟和更新
 */
```

### 3.3 函数注释
```cpp
/**
 * @brief 应用力到物体
 * @param force 力向量
 * @param point 作用点
 * @return 是否成功应用
 */
```

## 4. 最佳实践

### 4.1 内存管理
- 优先使用智能指针
- 避免原始指针所有权转移
- 使用RAII原则

### 4.2 错误处理
- 使用异常处理重要错误
- 使用返回值处理预期错误
- 添加适当的错误日志

### 4.3 性能考虑
- 合理使用引用和常量引用
- 避免不必要的对象复制
- 注意内存对齐

### 4.4 模板使用
- 模板定义放在头文件中
- 使用概念（Concepts）约束模板参数
- 提供清晰的模板参数文档

## 5. 版本控制

### 5.1 提交信息
```
[模块]: 简短描述

详细描述
- 改动点1
- 改动点2

相关问题: #123
```

### 5.2 分支管理
- main: 主分支
- develop: 开发分支
- feature/*: 特性分支
- bugfix/*: 修复分支

## 6. 文档要求

### 6.1 必要文档
- 类和重要函数的文档注释
- 复杂算法的实现说明
- 公共API的使用示例

### 6.2 代码审查清单
- 代码符合命名规范
- 适当的注释和文档
- 没有内存泄漏
- 错误处理完善
- 单元测试覆盖 